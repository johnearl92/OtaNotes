{"timestamp":"2024-05-27 13:07:00.196","level":"INFO","thread":"main","logger":"com.byob.beyourownbarista.coffee.CoffeeIT","message":"Starting CoffeeIT using Java 17.0.11 with PID 26874 (/home/johnearl/Workspace/BeYourOwnBarista/build/classes/kotlin/test started by johnearl in /home/johnearl/Workspace/BeYourOwnBarista)","context":"default"}
{"timestamp":"2024-05-27 13:07:00.201","level":"INFO","thread":"main","logger":"com.byob.beyourownbarista.coffee.CoffeeIT","message":"No active profile set, falling back to 1 default profile: \"default\"","context":"default"}
{"timestamp":"2024-05-27 13:07:00.859","level":"WARN","thread":"main","logger":"org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext","message":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'filterChain' defined in class path resource [com/byob/beyourownbarista/config/ResourceServerConfig.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=resourceServerConfig; factoryMethodName=filterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/byob/beyourownbarista/config/ResourceServerConfig.class]] for bean 'filterChain' since there is already [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=testSecurityConfig; factoryMethodName=filterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/byob/beyourownbarista/config/TestSecurityConfig.class]] bound.","context":"default"}
{"timestamp":"2024-05-27 13:07:00.873","level":"INFO","thread":"main","logger":"org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger","message":"\n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.","context":"default"}
{"timestamp":"2024-05-27 13:07:00.893","level":"ERROR","thread":"main","logger":"org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter","message":"\n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe bean 'filterChain', defined in class path resource [com/byob/beyourownbarista/config/ResourceServerConfig.class], could not be registered. A bean with that name has already been defined in class path resource [com/byob/beyourownbarista/config/TestSecurityConfig.class] and overriding is disabled.\n\nAction:\n\nConsider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true\n","context":"default"}
{"timestamp":"2024-05-27 13:07:00.899","level":"WARN","thread":"main","logger":"org.springframework.test.context.TestContextManager","message":"Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.byob.beyourownbarista.coffee.CoffeeIT@1ccc1026]","context":"default","exception":"java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@53cddaf8 testClass = com.byob.beyourownbarista.coffee.CoffeeIT, locations = [], classes = [com.byob.beyourownbarista.BeYourOwnBaristaApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = [\"org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true\", \"server.port=0\"], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2954b5ea, [ImportsContextCustomizer@55c50f52 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4c2fb9dd, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5477a1ca, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@700f518a, org.springframework.boot.test.context.SpringBootTestAnnotation@617ef65d], resourceBasePath = \"src/main/webapp\", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)\n\tat io.kotest.extensions.spring.SpringTestExtension$intercept$2.invokeSuspend(SpringTestExtension.kt:61)\n\tat io.kotest.extensions.spring.SpringTestExtension$intercept$2.invoke(SpringTestExtension.kt)\n\tat io.kotest.extensions.spring.SpringTestExtension$intercept$2.invoke(SpringTestExtension.kt)\n\tat kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)\n\tat kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)\n\tat kotlinx.coroutines.BuildersKt.withContext(Unknown Source)\n\tat io.kotest.extensions.spring.SpringTestExtension.intercept(SpringTestExtension.kt:59)\n\tat io.kotest.engine.spec.SpecExtensions$intercept$chain$1$1$1.invokeSuspend(SpecExtensions.kt:151)\n\tat io.kotest.engine.spec.SpecExtensions$intercept$chain$1$1$1.invoke(SpecExtensions.kt)\n\tat io.kotest.engine.spec.SpecExtensions$intercept$chain$1$1$1.invoke(SpecExtensions.kt)\n\tat io.kotest.core.extensions.SpecExtension$DefaultImpls.intercept(SpecExtension.kt:31)\n\tat io.kotest.extensions.spring.SpringTestExtension.intercept(SpringTestExtension.kt:50)\n\tat io.kotest.engine.spec.SpecExtensions$intercept$chain$1$1.invokeSuspend(SpecExtensions.kt:150)\n\tat io.kotest.engine.spec.SpecExtensions$intercept$chain$1$1.invoke(SpecExtensions.kt)\n\tat io.kotest.engine.spec.SpecExtensions$intercept$chain$1$1.invoke(SpecExtensions.kt)\n\tat io.kotest.engine.spec.SpecExtensions.intercept(SpecExtensions.kt:157)\n\tat io.kotest.engine.spec.interceptor.instance.SpecExtensionInterceptor.intercept-0E7RQCE(SpecExtensionInterceptor.kt:22)\n\tat io.kotest.engine.spec.interceptor.SpecInterceptorPipeline$execute$3$1.invokeSuspend(SpecInterceptorPipeline.kt:47)\n\tat io.kotest.engine.spec.interceptor.SpecInterceptorPipeline$execute$3$1.invoke(SpecInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecInterceptorPipeline$execute$3$1.invoke(SpecInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.instance.ProjectContextInterceptor$intercept$2.invokeSuspend(ProjectContextInterceptor.kt:25)\n\tat io.kotest.engine.spec.interceptor.instance.ProjectContextInterceptor$intercept$2.invoke(ProjectContextInterceptor.kt)\n\tat io.kotest.engine.spec.interceptor.instance.ProjectContextInterceptor$intercept$2.invoke(ProjectContextInterceptor.kt)\n\tat kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)\n\tat kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)\n\tat kotlinx.coroutines.BuildersKt.withContext(Unknown Source)\n\tat io.kotest.engine.spec.interceptor.instance.ProjectContextInterceptor.intercept-0E7RQCE(ProjectContextInterceptor.kt:24)\n\tat io.kotest.engine.spec.interceptor.SpecInterceptorPipeline$execute$3$1.invokeSuspend(SpecInterceptorPipeline.kt:47)\n\tat io.kotest.engine.spec.interceptor.SpecInterceptorPipeline$execute$3$1.invoke(SpecInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecInterceptorPipeline$execute$3$1.invoke(SpecInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.instance.EngineContextInterceptor$intercept$2.invokeSuspend(EngineContextInterceptor.kt:23)\n\tat io.kotest.engine.spec.interceptor.instance.EngineContextInterceptor$intercept$2.invoke(EngineContextInterceptor.kt)\n\tat io.kotest.engine.spec.interceptor.instance.EngineContextInterceptor$intercept$2.invoke(EngineContextInterceptor.kt)\n\tat kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)\n\tat kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)\n\tat kotlinx.coroutines.BuildersKt.withContext(Unknown Source)\n\tat io.kotest.engine.spec.interceptor.instance.EngineContextInterceptor.intercept-0E7RQCE(EngineContextInterceptor.kt:22)\n\tat io.kotest.engine.spec.interceptor.SpecInterceptorPipeline$execute$3$1.invokeSuspend(SpecInterceptorPipeline.kt:47)\n\tat io.kotest.engine.spec.interceptor.SpecInterceptorPipeline$execute$3$1.invoke(SpecInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecInterceptorPipeline$execute$3$1.invoke(SpecInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecInterceptorPipeline.execute-0E7RQCE(SpecInterceptorPipeline.kt:47)\n\tat io.kotest.engine.spec.runners.SingleInstanceSpecRunner$execute$3.invokeSuspend(SingleInstanceSpecRunner.kt:47)\n\tat io.kotest.engine.spec.runners.SingleInstanceSpecRunner$execute$3.invoke(SingleInstanceSpecRunner.kt)\n\tat io.kotest.engine.spec.runners.SingleInstanceSpecRunner$execute$3.invoke(SingleInstanceSpecRunner.kt)\n\tat kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)\n\tat kotlinx.coroutines.CoroutineScopeKt.coroutineScope(CoroutineScope.kt:264)\n\tat io.kotest.engine.spec.runners.SingleInstanceSpecRunner.execute-gIAlu-s(SingleInstanceSpecRunner.kt:46)\n\tat io.kotest.engine.spec.JvmSpecExecutorDelegate.execute(createSpecExecutorDelegate.kt:64)\n\tat io.kotest.engine.spec.SpecExecutor.executeInDelegate-gIAlu-s(SpecExecutor.kt:49)\n\tat io.kotest.engine.spec.SpecExecutor.access$executeInDelegate-gIAlu-s(SpecExecutor.kt:24)\n\tat io.kotest.engine.spec.SpecExecutor$execute$innerExecute$1.invokeSuspend(SpecExecutor.kt:40)\n\tat io.kotest.engine.spec.SpecExecutor$execute$innerExecute$1.invoke(SpecExecutor.kt)\n\tat io.kotest.engine.spec.SpecExecutor$execute$innerExecute$1.invoke(SpecExecutor.kt)\n\tat io.kotest.engine.spec.interceptor.ref.FinalizeSpecInterceptor.intercept-0E7RQCE(FinalizeSpecInterceptor.kt:24)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.BeforeSpecStateInterceptor.intercept-0E7RQCE(BeforeSpecStateInterceptor.kt:25)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.PrepareSpecInterceptor.intercept-0E7RQCE(PrepareSpecInterceptor.kt:25)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.ApplyExtensionsInterceptor.intercept-0E7RQCE(ApplyExtensionsInterceptor.kt:36)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.SpecFinishedInterceptor.intercept-0E7RQCE(SpecFinishedInterceptor.kt:22)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.SpecStartedInterceptor.intercept-0E7RQCE(SpecStartedInterceptor.kt:20)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.SpecRefExtensionInterceptor$intercept$inner$1.invokeSuspend(SpecRefExtensionInterceptor.kt:28)\n\tat io.kotest.engine.spec.interceptor.ref.SpecRefExtensionInterceptor$intercept$inner$1.invoke(SpecRefExtensionInterceptor.kt)\n\tat io.kotest.engine.spec.interceptor.ref.SpecRefExtensionInterceptor$intercept$inner$1.invoke(SpecRefExtensionInterceptor.kt)\n\tat io.kotest.engine.spec.interceptor.ref.SpecRefExtensionInterceptor.intercept-0E7RQCE(SpecRefExtensionInterceptor.kt:31)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.RequiresTagInterceptor.intercept-0E7RQCE(RequiresTagInterceptor.kt:35)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.TagsInterceptor.intercept-0E7RQCE(TagsInterceptor.kt:38)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.SystemPropertySpecFilterInterceptor.intercept-0E7RQCE(SystemPropertySpecFilterInterceptor.kt:48)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.SpecFilterInterceptor.intercept-0E7RQCE(SpecFilterInterceptor.kt:38)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.IgnoredSpecInterceptor.intercept-0E7RQCE(IgnoredSpecInterceptor.kt:51)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.EnabledIfInterceptor.intercept-0E7RQCE(EnabledIfInterceptor.kt:41)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.ref.RequiresPlatformInterceptor.intercept-0E7RQCE(RequiresPlatformInterceptor.kt:32)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invokeSuspend(SpecRefInterceptorPipeline.kt:49)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline$execute$3$1.invoke(SpecRefInterceptorPipeline.kt)\n\tat io.kotest.engine.spec.interceptor.SpecRefInterceptorPipeline.execute-0E7RQCE(SpecRefInterceptorPipeline.kt:50)\n\tat io.kotest.engine.spec.SpecExecutor.execute(SpecExecutor.kt:42)\n\tat io.kotest.engine.ConcurrentTestSuiteScheduler$schedule$8$1$1$2.invokeSuspend(ConcurrentTestSuiteScheduler.kt:72)\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)\n\tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:280)\n\tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n\tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n\tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n\tat io.kotest.common.RunBlockingKt.runBlocking(runBlocking.kt:3)\n\tat io.kotest.engine.launcher.MainKt.main(main.kt:34)\nCaused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'filterChain' defined in class path resource [com/byob/beyourownbarista/config/ResourceServerConfig.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=resourceServerConfig; factoryMethodName=filterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/byob/beyourownbarista/config/ResourceServerConfig.class]] for bean 'filterChain' since there is already [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=testSecurityConfig; factoryMethodName=filterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/byob/beyourownbarista/config/TestSecurityConfig.class]] bound.\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.registerBeanDefinition(DefaultListableBeanFactory.java:1017)\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:277)\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144)\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120)\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:428)\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:289)\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349)\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118)\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:788)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:606)\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:334)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454)\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)\n\t... 129 common frames omitted\n"}
{"timestamp":"2024-05-27 13:07:27.302","level":"INFO","thread":"main","logger":"org.springframework.test.context.support.AnnotationConfigContextLoaderUtils","message":"Could not detect default configuration classes for test class [com.byob.beyourownbarista.coffee.CoffeeIT]: CoffeeIT does not declare any static, non-private, non-final, nested classes annotated with @Configuration.","context":"default"}
{"timestamp":"2024-05-27 13:07:27.531","level":"INFO","thread":"main","logger":"org.springframework.boot.test.context.SpringBootTestContextBootstrapper","message":"Found @SpringBootConfiguration com.byob.beyourownbarista.BeYourOwnBaristaApplication for test class com.byob.beyourownbarista.coffee.CoffeeIT","context":"default"}
{"timestamp":"2024-05-27 13:07:28.009","level":"INFO","thread":"main","logger":"com.byob.beyourownbarista.coffee.CoffeeIT","message":"Starting CoffeeIT using Java 17.0.11 with PID 27155 (/home/johnearl/Workspace/BeYourOwnBarista/build/classes/kotlin/test started by johnearl in /home/johnearl/Workspace/BeYourOwnBarista)","context":"default"}
{"timestamp":"2024-05-27 13:07:28.011","level":"INFO","thread":"main","logger":"com.byob.beyourownbarista.coffee.CoffeeIT","message":"No active profile set, falling back to 1 default profile: \"default\"","context":"default"}
{"timestamp":"2024-05-27 13:07:29.203","level":"INFO","thread":"main","logger":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","context":"default"}
{"timestamp":"2024-05-27 13:07:29.327","level":"INFO","thread":"main","logger":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","message":"Finished Spring Data repository scanning in 114 ms. Found 1 JPA repository interface.","context":"default"}
{"timestamp":"2024-05-27 13:07:30.015","level":"INFO","thread":"main","logger":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","message":"Tomcat initialized with port 0 (http)","context":"default"}
{"timestamp":"2024-05-27 13:07:30.029","level":"INFO","thread":"main","logger":"org.apache.coyote.http11.Http11NioProtocol","message":"Initializing ProtocolHandler [\"http-nio-auto-1\"]","context":"default"}
{"timestamp":"2024-05-27 13:07:30.033","level":"INFO","thread":"main","logger":"org.apache.catalina.core.StandardService","message":"Starting service [Tomcat]","context":"default"}
{"timestamp":"2024-05-27 13:07:30.033","level":"INFO","thread":"main","logger":"org.apache.catalina.core.StandardEngine","message":"Starting Servlet engine: [Apache Tomcat/10.1.20]","context":"default"}
{"timestamp":"2024-05-27 13:07:30.108","level":"INFO","thread":"main","logger":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","message":"Initializing Spring embedded WebApplicationContext","context":"default"}
{"timestamp":"2024-05-27 13:07:30.108","level":"INFO","thread":"main","logger":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","message":"Root WebApplicationContext: initialization completed in 2079 ms","context":"default"}
{"timestamp":"2024-05-27 13:07:30.147","level":"INFO","thread":"main","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-1 - Starting...","context":"default"}
{"timestamp":"2024-05-27 13:07:30.377","level":"INFO","thread":"main","logger":"com.zaxxer.hikari.pool.HikariPool","message":"HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:e87ae021-9f22-4ede-8c3d-3142b39a6f95 user=SA","context":"default"}
{"timestamp":"2024-05-27 13:07:30.380","level":"INFO","thread":"main","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-1 - Start completed.","context":"default"}
{"timestamp":"2024-05-27 13:07:30.394","level":"INFO","thread":"main","logger":"org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration","message":"H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:e87ae021-9f22-4ede-8c3d-3142b39a6f95'","context":"default"}
{"timestamp":"2024-05-27 13:07:30.717","level":"INFO","thread":"main","logger":"org.hibernate.jpa.internal.util.LogHelper","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","context":"default"}
{"timestamp":"2024-05-27 13:07:30.798","level":"INFO","thread":"main","logger":"org.hibernate.Version","message":"HHH000412: Hibernate ORM core version 6.4.4.Final","context":"default"}
{"timestamp":"2024-05-27 13:07:30.835","level":"INFO","thread":"main","logger":"org.hibernate.cache.internal.RegionFactoryInitiator","message":"HHH000026: Second-level cache disabled","context":"default"}
{"timestamp":"2024-05-27 13:07:31.091","level":"INFO","thread":"main","logger":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","context":"default"}
{"timestamp":"2024-05-27 13:07:32.148","level":"INFO","thread":"main","logger":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","context":"default"}
{"timestamp":"2024-05-27 13:07:32.176","level":"INFO","thread":"main","logger":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","context":"default"}
{"timestamp":"2024-05-27 13:07:32.595","level":"WARN","thread":"main","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","context":"default"}
{"timestamp":"2024-05-27 13:07:32.971","level":"INFO","thread":"main","logger":"org.springframework.security.web.DefaultSecurityFilterChain","message":"Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@532b3244, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27828021, org.springframework.security.web.context.SecurityContextHolderFilter@1abacff3, org.springframework.security.web.header.HeaderWriterFilter@26aecf31, org.springframework.web.filter.CorsFilter@42a08547, org.springframework.security.web.csrf.CsrfFilter@5100fe55, org.springframework.security.web.authentication.logout.LogoutFilter@2265a052, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@4b75d640, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f66ab8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2746b1cc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@579b1d86, org.springframework.security.web.access.ExceptionTranslationFilter@7aca4144, org.springframework.security.web.access.intercept.AuthorizationFilter@7fbe0f64]","context":"default"}
{"timestamp":"2024-05-27 13:07:33.301","level":"INFO","thread":"main","logger":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","message":"Initializing Spring TestDispatcherServlet ''","context":"default"}
{"timestamp":"2024-05-27 13:07:33.302","level":"INFO","thread":"main","logger":"org.springframework.test.web.servlet.TestDispatcherServlet","message":"Initializing Servlet ''","context":"default"}
{"timestamp":"2024-05-27 13:07:33.304","level":"INFO","thread":"main","logger":"org.springframework.test.web.servlet.TestDispatcherServlet","message":"Completed initialization in 1 ms","context":"default"}
{"timestamp":"2024-05-27 13:07:33.344","level":"INFO","thread":"main","logger":"org.apache.coyote.http11.Http11NioProtocol","message":"Starting ProtocolHandler [\"http-nio-auto-1\"]","context":"default"}
{"timestamp":"2024-05-27 13:07:33.371","level":"INFO","thread":"main","logger":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","message":"Tomcat started on port 42231 (http) with context path ''","context":"default"}
{"timestamp":"2024-05-27 13:07:33.398","level":"INFO","thread":"main","logger":"com.byob.beyourownbarista.coffee.CoffeeIT","message":"Started CoffeeIT in 5.733 seconds (process running for 12.728)","context":"default"}
{"timestamp":"2024-05-27 13:07:33.994","level":"WARN","thread":"pool-1-thread-1","logger":"org.springframework.web.servlet.handler.HandlerMappingIntrospector","message":"Cache miss for REQUEST dispatch to '/api/coffee' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.","context":"default"}
{"timestamp":"2024-05-27 13:07:34.192","level":"INFO","thread":"pool-1-thread-1","mdc":{"REQUEST_URI":"/api/coffee","TRACE_ID":"3d79a214-b59e-4f69-a395-0830378e72fe","REQUEST_METHOD":"POST"},"logger":"com.byob.beyourownbarista.api.coffee.CoffeeController","message":"Creating new coffee: Coffee(id=0, name=Espresso, price=2.5)","context":"default"}
{"timestamp":"2024-05-27 13:07:35.159","level":"INFO","thread":"SpringApplicationShutdownHook","logger":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","context":"default"}
{"timestamp":"2024-05-27 13:07:35.162","level":"INFO","thread":"SpringApplicationShutdownHook","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-1 - Shutdown initiated...","context":"default"}
{"timestamp":"2024-05-27 13:07:35.164","level":"INFO","thread":"SpringApplicationShutdownHook","logger":"com.zaxxer.hikari.HikariDataSource","message":"HikariPool-1 - Shutdown completed.","context":"default"}
